<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vijeta — Athlete Portal</title>
<meta name="description" content="Record standardized fitness tests with on-device AI verification.">
<script src="https://cdn.tailwindcss.com"></script>
<script>tailwind.config={theme:{extend:{colors:{govnavy:"#0A1A3B",govink:"#0E2248",govorange:"#FF6A00"}}}};</script>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/lucide@0.452.0/dist/umd/lucide.min.js"></script>
<style>
  html,body,#root{height:100%}
  .hero{position:relative;overflow:hidden;background:linear-gradient(135deg,#0E2248,#0A1A3B)}
  .hero:before{content:"";position:absolute;inset:0;opacity:.28;background:url('https://thejuniorage.com/wp-content/uploads/2024/08/TJA-Featured-Image-3.jpg') center/cover}
  .toast{position:fixed;right:18px;bottom:18px;z-index:60;display:flex;gap:12px;align-items:center;
         background:#101826;color:#fff;border:1px solid #2b3443;padding:12px 14px;border-radius:12px;
         box-shadow:0 10px 30px rgba(0,0,0,.35)}
  .pill{border:1px solid rgba(255,255,255,.25);padding:.35rem .6rem;border-radius:.65rem}
</style>
</head>
<body class="bg-govnavy">
<div id="root"></div>

<script>
const e=React.createElement;

/* strings for EN/HI */
const STR={
  en:{home:"HOME",about:"ABOUT",tests:"TESTS",results:"RESULTS",leader:"LEADERBOARD",resources:"RESOURCES",
      login:"Login / Sign up",logout:"Logout",verify:"Verify now",verifyNeededTitle:"Verification required",
      verifyNeededMsg:"Complete Aadhaar/KYC to attempt official tests and appear on the leaderboard.",
      start:"Start",how:"How to set up",search:"Search tests",developed:"Developed by Team Neon"},
  hi:{home:"होम",about:"परिचय",tests:"परीक्षण",results:"परिणाम",leader:"लीडरबोर्ड",resources:"संसाधन",
      login:"लॉगिन / साइन अप",logout:"लॉगआउट",verify:"सत्यापित करें",verifyNeededTitle:"सत्यापन आवश्यक",
      verifyNeededMsg:"आधार/केवाईसी पूर्ण करें ताकि आधिकारिक परीक्षण कर सकें और लीडरबोर्ड में दिखें।",
      start:"शुरू करें",how:"सेटअप कैसे करें",search:"परीक्षण खोजें",developed:"टीम नियोन द्वारा विकसित"}
};

/* tests */
const TESTS=[
  {id:1,name:"Height",quality:"Anthropometry",time:"~1–2 min",setup:["Portrait camera","Back to wall","Read overlay"]},
  {id:2,name:"Weight",quality:"Anthropometry",time:"~1 min",setup:["Photo of scale","OCR digits","Face match"]},
  {id:3,name:"Sit & Reach",quality:"Flexibility",time:"~2–3 min",setup:["Side-on","Feet on box","Measure reach"]},
  {id:4,name:"Standing Vertical Jump",quality:"Explosive Strength (Lower)",time:"~2–3 min",setup:["Side-on","Mark reach","Apex minus reach"]},
  {id:5,name:"Standing Broad Jump",quality:"Explosive Strength (Lower)",time:"~2–3 min",setup:["Side-on","Tape from toes","Landing heels"]},
  {id:6,name:"Medicine Ball Throw",quality:"Strength (Upper)",time:"~2–3 min",setup:["45° camera","Baseline mark","First ground"]},
  {id:7,name:"30 m Standing Start",quality:"Speed",time:"~2–3 min",setup:["Cones 0–30m","Cam near finish","Start+finish detect"]},
  {id:8,name:"4 × 10 m Shuttle Run",quality:"Agility",time:"~3–4 min",setup:["Two lines 10m","Side-on","Touches+time"]},
  {id:9,name:"Sit-ups (60s)",quality:"Core Strength",time:"~2–3 min",setup:["45° camera","Knees bent","Form checks"]},
  {id:10,name:"Endurance Run",quality:"Endurance",time:"~6–12 min",setup:["Track/GPS","U12:800m; 12+:1.6km","Timing"]}
];

/* toast */
function toast(msg,type="info"){
  const t=document.createElement("div"); t.className="toast";
  t.style.borderColor= type==="warn"?"#f59e0b":"#2b3443";
  t.innerHTML=`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.9">
    <path d="M12 9v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="${type==="warn"?"#f59e0b":"#60a5fa"}" stroke-width="2" stroke-linecap="round"/>
  </svg>
  <span style="max-width:56ch">${msg}</span>`;
  document.body.appendChild(t);
  setTimeout(()=>{ t.style.opacity="0"; t.style.transform="translateY(10px)"; },2200);
  setTimeout(()=>t.remove(),2800);
}

/* components */
function Nav({lang,setLang,section,setSection,isAuthed,kyc}){
  const S=STR[lang];
  const Btn=(k,lbl)=>e('button',{onClick:()=>setSection(k),
    className:`px-3 py-2 rounded-md text-sm font-semibold ${section===k?"bg-white/20":"bg-white/10 hover:bg-white/20"}`
  },lbl);
  return e('div',{className:"sticky top-0 z-50 border-b border-white/10"},
    e('div',{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",style:{background:"#0A1A3B"}},
      e('div',{className:"text-2xl font-extrabold tracking-widest text-white"},"VIJETA"),
      e('div',{className:"hidden md:flex items-center gap-2 text-white"},
        Btn('home',S.home),Btn('about',S.about),Btn('tests',S.tests),
        Btn('results',S.results),Btn('leader',S.leader),Btn('resources',S.resources)),
      e('div',{className:"flex items-center gap-2"},
        e('button',{onClick:()=>setLang(lang==='en'?'hi':'en'),
          className:"px-3 py-2 rounded-md bg-white/10 text-white hover:bg-white/20"}, lang.toUpperCase()),
        isAuthed
          ? e('span',{className:`pill text-white/80 ${kyc?"border-green-400 text-green-200":"border-amber-400 text-amber-200"}`},
              kyc?"KYC: Verified":"KYC: Not Verified")
          : e('span',{className:"pill text-white/80"},"Guest")
      )
    )
  );
}

function Hero({lang,onStart}){
  const S=STR[lang];
  return e('section',{className:"hero rounded-3xl shadow-xl text-white relative"},
    e('div',{className:"relative p-8 md:p-12 space-y-6"},
      e('h2',{className:"text-4xl md:text-6xl font-extrabold tracking-wider"}, "Athlete Portal"),
      e('p',{className:"text-lg md:text-2xl opacity-95"}, "Record standardized fitness tests with on-device AI verification."),
      e('div',{className:"flex gap-3"},
        e('button',{onClick:onStart,className:"px-5 py-3 rounded-md text-white font-bold shadow",style:{background:"#FF6A00"}}, S.tests),
        e('a',{href:"#resources",className:"px-5 py-3 rounded-md bg-white/10 border border-white/20"}, "Resources")),
      e('div',{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm"},
        e('div',{className:"bg-white/10 rounded-lg p-3"},"Edge AI • Offline"),
        e('div',{className:"bg-white/10 rounded-lg p-3"},"Cheat Detection"),
        e('div',{className:"bg-white/10 rounded-lg p-3"},"Privacy by Design"),
        e('div',{className:"bg-white/10 rounded-lg p-3"},"Gov Cloud Ready"))
  ));
}

function TestCard({t,S,onStart,onHow}){
  return e('div',{className:"bg-white rounded-xl p-4 hover:shadow-lg transition"},
    e('div',{className:"flex items-start justify-between"},
      e('div',null,
        e('div',{className:"font-bold"},t.name),
        e('div',{className:"text-slate-600 text-sm"},t.quality),
        e('div',{className:"text-slate-500 text-xs mt-1"},t.time)),
      e('i',{'data-lucide':'medal',className:"w-5 h-5 text-slate-500"})),
    e('div',{className:"mt-3 flex gap-2"},
      e('button',{onClick:onHow,className:"px-3 py-2 rounded-md bg-slate-100"},S.how),
      e('button',{onClick:onStart,className:"px-3 py-2 rounded-md text-white",style:{background:"#FF6A00"}},S.start)));
}

function CameraMock({test}){
  const [status,setStatus]=React.useState('idle');const [p,setP]=React.useState(0);
  const run=()=>{if(status==='recording')return; setStatus('recording'); setP(20);
    setTimeout(()=>setP(60),800); setTimeout(()=>{setStatus('processing'); setP(90)},1600);
    setTimeout(()=>{setStatus('done'); setP(100); toast("Result ready. This is a UI demo.");},2300);}
  return e('div',{className:"bg-black/80 rounded-xl overflow-hidden aspect-[9/16] w-full relative"},
    e('div',{className:"absolute inset-0 grid place-items-center"},
      e('i',{'data-lucide':'camera',className:"w-16 h-16 text-white/60"}),
      e('div',{className:"absolute bottom-3 left-3 right-3"},
        e('div',{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden"},
          e('div',{className:"h-2 bg-white",style:{width:p+'%'}})),
        e('div',{className:"mt-3 flex gap-2"},
          e('button',{onClick:run,className:"px-4 py-2 rounded-md text-white",style:{background:"#FF6A00"}},
            status==='recording'?'Stop':'Start Test'),
          e('button',{className:"px-4 py-2 rounded-md bg-slate-100",
            onClick:()=>toast("Setup for "+test.name+" → "+test.setup.join(" • "),"info")},"How to set up")))));
}

function Results(){
  return e('div',{className:"bg-white rounded-xl p-6 space-y-3"},
    e('div',{className:"text-xl font-bold"},"Result Summary"),
    e('div',{className:"grid md:grid-cols-3 gap-3"},
      e('div',{className:"bg-slate-50 rounded-lg p-4"},e('div',{className:"text-sm text-slate-600"},"Metric"),
        e('div',{className:"text-2xl font-extrabold"},"Jump Height: 43 cm")),
      e('div',{className:"bg-slate-50 rounded-lg p-4"},e('div',{className:"text-sm text-slate-600"},"Percentile (M • 14–15)"),
        e('div',{className:"text-2xl font-extrabold"},"82nd")),
      e('div',{className:"bg-slate-50 rounded-lg p-4"},e('div',{className:"text-sm text-slate-600"},"Badge"),
        e('div',{className:"text-2xl font-extrabold flex items-center gap-2"},
          e('i',{'data-lucide':'award',className:"w-6 h-6"}),"Explosive • Bronze"))),
    e('div',{className:"flex gap-2"},
      e('button',{className:"px-3 py-2 rounded-md bg-slate-100"},"Save offline"),
      e('button',{className:"px-3 py-2 rounded-md text-white",style:{background:"#FF6A00"}},"Sync when online"),
      e('button',{className:"px-3 py-2 rounded-md border"},"Retake")));
}

function Leaderboard(){
  const [state,setState]=React.useState("Delhi");
  const [district,setDistrict]=React.useState("New Delhi");
  const [gender,setGender]=React.useState("Male");
  // demo rows
  const rows=[{rank:1,name:"A. Kumar",score:92,percentile:98,flagged:"No"},
              {rank:2,name:"R. Das",score:90,percentile:96,flagged:"No"},
              {rank:3,name:"S. Yadav",score:88,percentile:94,flagged:"Yes"}];
  return e('div',{className:"bg-white rounded-xl p-6"},
    e('div',{className:"flex flex-wrap gap-3 mb-4"},
      e('select',{className:"px-3 py-2 rounded-md bg-slate-100",value:state,onChange:ev=>setState(ev.target.value)},
        "Delhi,Maharashtra,Haryana,Karnataka,Tamil Nadu,Odisha,Uttar Pradesh".split(",").map(s=>e('option',{key:s},s))),
      e('select',{className:"px-3 py-2 rounded-md bg-slate-100",value:district,onChange:ev=>setDistrict(ev.target.value)},
        ["New Delhi","South West","Pune","Bhubaneswar","Bengaluru Urban","Chennai"].map(d=>e('option',{key:d},d))),
      e('select',{className:"px-3 py-2 rounded-md bg-slate-100",value:gender,onChange:ev=>setGender(ev.target.value)},
        ["Male","Female"].map(g=>e('option',{key:g},g)))),
    e('div',{className:"text-xs text-slate-600 mb-2"},`Leaderboard — ${state} • ${district} • ${gender}`),
    e('div',{className:"overflow-x-auto"},
      e('table',{className:"min-w-full text-sm"},
        e('thead',{className:"text-left text-slate-600"},
          e('tr',null,["Rank","Athlete","Score","Percentile","Flag"].map(h=>e('th',{key:h,className:"py-2 pr-4"},h)))),
        e('tbody',null,rows.map(r=>e('tr',{key:r.rank,className:r.flagged==="Yes"?"bg-amber-50":""},
          e('td',{className:"py-2 pr-4"},r.rank),
          e('td',{className:"py-2 pr-4"},r.name),
          e('td',{className:"py-2 pr-4"},r.score),
          e('td',{className:"py-2 pr-4"},r.percentile),
          e('td',{className:"py-2 pr-0"},r.flagged)))))));
}

function Resources(){
  return e('div',{className:"bg-white rounded-xl p-6 space-y-2"},
    e('div',{className:"text-xl font-bold"},"Resources & Guides"),
    e('ul',{className:"list-disc ml-5 text-sm text-slate-700"},
      e('li',null,"Annexure A — Test Protocols (PDF)"),
      e('li',null,"Benchmark tables — Age/Gender (PDF)"),
      e('li',null,"Setup Guides — Phone placement, lighting"),
      e('li',null,"User Manuals — Athlete App, Officials Dashboard"),
      e('li',null,"Policies — Privacy, Terms, Consent; Grievances & Helpdesk")));
}

function App(){
  const [lang,setLang]=React.useState('en');
  const [section,setSection]=React.useState('home');
  const [authed]=React.useState(true); // demo: logged in
  const [kyc,setKyc]=React.useState(!!localStorage.getItem('ath_kyc'));
  const [active,setActive]=React.useState(TESTS[3]);
  const [q,setQ]=React.useState('');
  React.useEffect(()=>{ if(window.lucide) window.lucide.createIcons(); },[section,lang,kyc,q,active]);

  const S=STR[lang];

  function guardAndStart(t){
    if(!kyc){ toast(S.verifyNeededTitle+": "+S.verifyNeededMsg,"warn"); return; }
    setActive(t); setSection('record');
  }

  const testsGrid=e('div',null,
    (!kyc) && e('div',{className:"bg-amber-50 border border-amber-200 text-amber-900 rounded-lg p-4 mb-3"},
      e('div',{className:"font-semibold mb-1"},S.verifyNeededTitle),
      e('div',{className:"text-sm"},S.verifyNeededMsg),
      e('div',{className:"mt-2"}, e('button',{onClick:()=>{localStorage.setItem('ath_kyc','1'); setKyc(true); toast("KYC verified (demo).");},
        className:"px-3 py-2 rounded-md text-white",style:{background:"#FF6A00"}}, S.verify))),
    e('div',{className:"flex items-center gap-2"},
      e('input',{value:q,onChange:ev=>setQ(ev.target.value),placeholder:S.search,
        className:"bg-white/95 w-56 px-3 py-2 rounded-md"}),
      e('span',{className:"text-white/80 text-sm"},"10 tests (Annexure A)")),
    e('div',{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4"},
      TESTS.filter(t=>t.name.toLowerCase().includes(q.toLowerCase()))
           .map(t=>e(TestCard,{key:t.id,t,S,onStart:()=>guardAndStart(t),
             onHow:()=>toast("Setup for "+t.name+" → "+t.setup.join(" • "),"info")}))),
    e('div',{className:"mt-4 text-white/80 text-sm"},"Works offline; pruned & quantized models."));

  return e('div',null,
    e(Nav,{lang,setLang,section,setSection,isAuthed:authed,kyc}),
    e('div',{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},
      section==='home' && e(Hero,{lang,onStart:()=>setSection('tests')}),
      section==='about' && e('div',{className:"bg-white rounded-xl p-6 space-y-2"},
        e('div',{className:"text-xl font-bold"},"About the Programme"),
        e('p',null,"An initiative under the Ministry of Youth Affairs & Sports to democratize talent identification using mobile AI."),
        e('ul',{className:"list-disc ml-5 text-sm text-slate-700"},
          e('li',null,"Standardized tests (Annexure A), age/gender benchmarks."),
          e('li',null,"On-device verification & cheat detection; offline-first."),
          e('li',null,"Secure submission to SAI; videos only if flagged/consented."))),
      section==='tests' && testsGrid,
      section==='record' && e('div',null,
        e('div',{className:"text-white font-semibold mb-2"},"Recording — ",e('span',{className:"text-white/90"},active.name)),
        e(CameraMock,{test:active})),
      section==='results' && e(Results,null),
      section==='leader' && e(Leaderboard,null),
      section==='resources' && e(Resources,null)
    ),
    e('footer',{className:"mt-10 border-t border-white/10"},
      e('div',{className:"max-w-6xl mx-auto px-4 py-8 text-white/80 text-sm grid md:grid-cols-3 gap-4"},
        e('div',null,e('div',{className:"font-bold text-white"},"Ministry of Youth Affairs & Sports"),
                      e('div',null,"Sports Authority of India (SAI)")),
        e('div',null,e('div',{className:"font-bold text-white"},"Useful Links"),
                      e('div',null,"Privacy • Terms • Accessibility • Grievances")),
        e('div',null,e('div',{className:"font-bold text-white"},STR[lang].developed),e('div',null,"© 2025 • All rights reserved"))))
  );
}
ReactDOM.createRoot(document.getElementById('root')).render(e(App));
</script>
</body>
</html>
